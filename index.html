<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StoryCanvas - AI Story & Image Generator</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé®</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- StoryCanvas CSS -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/animations.css">
    
    <!-- StoryCanvas JavaScript -->
    <script type="module" src="js/app.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">StoryCanvas</div>
            <div class="tagline">Transform your ideas into illustrated stories with AI</div>
        </div>



        <!-- Step 1: Story Input -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">1</div>
                Create Your Story
            </div>
            <div class="input-group">
                <textarea 
                    id="story-prompt"
                    class="prompt-input" 
                    placeholder="Enter your story idea... (e.g., 'joker assassinates batman (or) spiderman turns into venom (or) Jon Snow becomes the king of the seven kingdoms and sits on the iron throne')"></textarea>
            </div>
            <div id="error-message" class="error-message" style="display: none;"></div>
            <button id="generate-btn" class="btn">
                <span id="btn-text">Generate</span>
                <span id="loading-spinner" class="loading" style="display: none;">
                    <span class="spinner"></span>
                    Generating...
                </span>
            </button>
        </div>

        <!-- Step 2: Generated Story -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">2</div>
                Your Generated Story
            </div>

            <div id="story-content" class="story-content">
                In the mystical village of Lunehaven, where cobblestone streets glowed with embedded moonstone and ivy-covered cottages housed generations of lunar mages, seventeen-year-old Celeste had always been the weakest apprentice. While her peers conjured brilliant silver flames and levitated objects with ease during full moons, Celeste could barely light a candle even when Luna shone brightest.

                Master Theron, the village's eldest moon-caller, watched with growing concern as Celeste struggled through another lesson. "Your magic flows differently, child," he said, his weathered hands tracing protective runes in the air. "Perhaps the moon speaks to you in whispers rather than songs."

                That evening, as the rare Blood Eclipse began to cast crimson shadows across Lunehaven, an ancient terror stirred. The Umbral Devourer, a shadow creature bound centuries ago by the combined power of twelve master moon-mages, began to break free from its ethereal prison. As darkness spread like spilled ink across the village, extinguishing the protective moonstone lights one by one, panic erupted in the streets.

                Celeste felt something awakening within her as the eclipse deepened. While other mages found their powers fading with the moon's light, hers began to surge. Dark energy, cool and vast as the space between stars, flowed through her veins. She realized with stunning clarity that she wasn't a failed lunar mage‚Äîshe was something far rarer: an eclipse-touched, one who drew power from the balance between light and shadow.

                The Umbral Devourer materialized in the village square, its form shifting between solid darkness and writhing void. Tendrils of pure shadow reached toward the terrified villagers. But Celeste stepped forward, her hands beginning to glow not with silver moonlight, but with deep purple energy that swirled with threads of gold.

                "I am the darkness and the light," she whispered, feeling the eclipse's power flow through her completely. She raised her hands, and for the first time in her life, magic answered her call with devastating beauty. Dark and light energies spiraled around her, creating a barrier that pushed back the shadow creature's advance.

                The final battle was a dance of opposing forces‚ÄîCeleste channeling the eclipse's rare harmony while the Devourer unleashed centuries of contained hunger. But where it sought to consume, she sought to balance. Her magic didn't destroy the creature; instead, it transformed the ancient shadow back into what it once was: a guardian spirit twisted by too much darkness.

                As the eclipse ended and normal moonlight returned to Lunehaven, Celeste stood victorious but forever changed. She had saved her village and discovered her true calling‚Äînot as a lunar mage, but as a guardian of the balance between light and shadow, protector of the spaces in between.
            </div>
            <button id="generate-creative-scene-btn" class="btn">Generate Creative Scene</button>
        </div>

        <!-- Step 3: Scene Selection -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">3</div>
                Select Scene for Illustration
            </div>
            <div class="scene-card">
                <div class="scene-content">
                    <div class="scene-rank">üèÜ Best Scene (Rank 5)</div>
                    <div class="scene-text">
                        Celeste stands in the village square with her hands raised, dark purple energy swirling with threads of gold spiraling around her, creating a protective barrier against the massive Umbral Devourer whose form shifts between solid darkness and writhing void, its shadow tendrils reaching toward terrified villagers behind her.
                    </div>
                    <div class="scene-controls">
                        <button id="next-scene-btn" class="btn btn-secondary">Next Scene</button>
                    </div>
                </div>
            </div>
            <button id="generate-image-prompt-btn" class="btn">Generate Image Prompt</button>
        </div>

        <!-- Step 4: Image Prompt Generation -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">4</div>
                Creative Image Prompt
            </div>
            <div class="prompt-card">
                <h4 style="color: #92400E; margin-bottom: 1rem; font-weight: 600;">Generated Image Prompt:</h4>
                <div class="prompt-text">
                    A seventeen-year-old girl with flowing dark hair standing defiantly in a cobblestone village square, her hands raised with dark purple energy swirling around her body mixed with golden threads, creating a luminous protective barrier, massive shadow creature with shifting void-like form looming behind her with writhing tendrils, terrified villagers seeking shelter behind glowing moonstone cottages, dramatic lighting from blood-red eclipse overhead, low angle heroic composition, fantasy art style with rich colors and dynamic energy effects, highly detailed character design, cinematic atmosphere, professional fantasy illustration, 8K quality
                </div>
                <div style="margin-top: 1.5rem;">
                    <button id="generate-creative-image-btn" class="btn">Generate Creative Image</button>
                </div>
            </div>
        </div>

        <!-- Step 5: Generated Image -->
        <div class="section">
            <div class="section-title">
                <div class="section-number">‚ú®</div>
                Your Masterpiece
            </div>
            
            <!-- High-Quality Image Display Component -->
            <div class="masterpiece-container">
                <div class="image-card">
                    <div class="image-wrapper">
                        <!-- Loading State -->
                        <div id="image-loading" class="image-loading" style="display: none;">
                            <div class="loading-skeleton">
                                <div class="skeleton-shimmer"></div>
                            </div>
                            <div class="loading-text">
                                <div class="loading-spinner"></div>
                                <span>Creating your masterpiece...</span>
                            </div>
                        </div>
                        
                        <!-- Placeholder State -->
                        <div id="image-placeholder" class="image-placeholder-modern">
                            <div class="placeholder-icon">üé®</div>
                            <h3 class="placeholder-title">Your AI Artwork Will Appear Here</h3>
                            <p class="placeholder-description">High-resolution illustration based on your story and selected scene</p>
                            <div class="placeholder-features">
                                <div class="feature">
                                    <span class="feature-icon">üñºÔ∏è</span>
                                    <span>High Resolution</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">üéØ</span>
                                    <span>Scene Accurate</span>
                                </div>
                                <div class="feature">
                                    <span class="feature-icon">‚ú®</span>
                                    <span>AI Generated</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Actual Image -->
                        <div id="generated-image-display" class="generated-image-display" style="display: none;">
                            <img id="masterpiece-image" 
                                 class="masterpiece-image" 
                                 alt="AI-generated illustration based on your story"
                                 loading="lazy">
                            <div class="image-overlay">
                                <div class="image-actions">
                                    <button class="action-btn" id="fullscreen-btn" title="View Fullscreen">
                                        <span class="action-icon">üîç</span>
                                    </button>
                                    <button class="action-btn" id="download-btn" title="Download Image">
                                        <span class="action-icon">‚¨áÔ∏è</span>
                                    </button>
                                    <button class="action-btn" id="share-btn" title="Share Image">
                                        <span class="action-icon">üì§</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Error State -->
                        <div id="image-error" class="image-error" style="display: none;">
                            <div class="error-icon">‚ö†Ô∏è</div>
                            <h3 class="error-title">Image Generation Failed</h3>
                            <p class="error-description">Something went wrong while creating your artwork</p>
                            <button class="btn btn-secondary" id="retry-image-btn">Try Again</button>
                        </div>
                
                <!-- Action Controls -->
                <div class="masterpiece-controls">
                    <button id="creative-image-btn" class="btn btn-secondary">
                        <span class="btn-icon">‚ú®</span>
                        Generate Creative Image
                    </button>
                </div>
            </div>
        </div>

    </div>
</body>
</html>